<!DOCTYPE html>
<html>

<head>
    <title>Create Elements Dynamically using jQuery</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>

    <style>
        * {
            box-sizing: border-box;
        }
        
        input,
        p {
            font: 18px Calibri;
            width: auto;
        }
        
        input {
            padding: 12px;
            margin: 3px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        input[type=button] {
            border: solid 1px #0095ff;
            background-color: #0095ff;
            color: #fff;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <p>Click the button and each will perform some dynamic function!</p>
    <div id="main">
        <input type="button" id="btAdd" value="Add Element" class="bt" />
        <input type="button" id="btRemove" value="Remove Element" class="bt" />
        <input type="button" id="btRemoveAll" value="Remove All" class="bt" /><br />


        <div class="container signin">
            <p>Already have an account? <a href="#">Sign in</a>.</p>
        </div>
    </div>
</body>

<script>
    $(document).ready(function() {
        var iCnt = 0;

        // Create a DIV and style it using .css() method.
        var container = $(document.createElement('div')).css({
            padding: '5px',
            margin: '20px',
            width: '220px',
            border: '1px dashed',
            overflow: 'hidden',
            borderTopColor: '#999',
            borderBottomColor: '#999',
            borderLeftColor: '#999',
            borderRightColor: '#999'
        });
        var element = '<div class="container xyz"><div><label>Url</label><input type="text" value="hu" placeholder="git@github-am.geo.conti.de:ADAS-CIP-WaTSEn/calculator.git" name="url" id="tb" required><div><label >Commit</label><input type="text" placeholder="master" name="psw" id="tb" required></div> <div><label for="myCheck">Release:</label> <input type="checkbox" name="myCheck" id="myCheck" onclick="myFunction()"><p id="text" style="display:none">False</p></div><div><label for="myCheck">Lightweight: </label> <input type="checkbox"  name="myCheck" id="myCheck" onclick="myFunction()"><p id="text" style="display:none">True</p></div> <div><label for="myCheck">Ignore_duplicates:</label> <input type="checkbox"  onclick="myFunction()"><p id="text" style="display:none">False</p></div> <div> <label>packages_to_build</label><input type="text" placeholder="[]" name="" id="packages_to_build" required></div><label>Bricks_build_system_version</label><input type = "text"placeholder = "v4.18.0" name = "bricks_build_system_version" id = "bricks_build_system_version" required><label >Bricks_pipeline_lib_version></label><input type="text" placeholder="master" name="bricks_pipeline_lib_version" id="bricks_pipeline_lib_version" required><div><label for="myCheck">Bdjm_performance_mode:</label> <input type="checkbox"  onclick="myFunction()"><p id="text" style="display:none">True</p></div><div><label for="myCheck">Ignored_unused_variants:</label> <input type="checkbox"  onclick="myFunction()"><p id="text" style="display:none">True</p></div></div>'


        $('#btAdd').click(function() {
            if (iCnt <= 19) {

                iCnt = iCnt + 1;

                // Add textbox.
                // Add textbox.
                $(container).append(element);


                // Show SUBMIT button if atleast 1 element is created.
                if (iCnt == 1) {

                    var divSubmit = $(document.createElement('div'));
                    $(divSubmit).append('<input type=button class="bt"' +
                        'onclick="GetTextValue()"' +
                        'id=btSubmit value=Submit />');
                }

                // Add both DIVs to the main container.
                $('#main').after(container, divSubmit);
            }
            // After reaching the specified limit,
            // disable the ADD button. (20 is the limit)
            else {
                $(container).append('<label>Reached the limit</label>');
                $('#btAdd').attr('class', 'bt-disable');
                $('#btAdd').attr('disabled', 'disabled');
            }
        });

        // REMOVE ONE ELEMENT PER CLICK.
        $('#btRemove').click(function() {
            if (iCnt != 0) {
                $('#tb' + iCnt).remove();
                iCnt = iCnt - 1;
            }

            if (iCnt == 0) {
                $(container)
                    .empty()
                    .remove();

                $('#btSubmit').remove();
                $('#btAdd')
                    .removeAttr('disabled')
                    .attr('class', 'bt');
            }
        });

        // REMOVE ALL THE ELEMENTS IN THE CONTAINER.
        $('#btRemoveAll').click(function() {
            $(container)
                .empty()
                .remove();

            $('#btSubmit').remove();
            iCnt = 0;

            $('#btAdd')
                .removeAttr('disabled')
                .attr('class', 'bt');
        });
    });

    // PICK THE VALUES FROM EACH TEXTBOX WHEN "SUBMIT" BUTTON IS CLICKED.
    var divValue, values = '';

    // function myFunction() {
    //     var checkBox = document.getElementById("myCheck");
    //     var text = document.getElementById("text");
    //     if (checkBox.checked == true) {
    //         text.style.display = "block";
    //     } else {
    //         text.style.display = "none";
    //     }
    // }

    function GetTextValue() {
        $(divValue)
            .empty()
            .remove();

        values = '';

        $('.input').each(function() {
            divValue = $(document.createElement(element)).css({
                padding: '5px',
                width: '200px'
            });
            values += this.value + '<br />'
        });

        $(divValue).append('<p><b>Your selected values</b></p>' + values);
        console.log("submit is working")
        $('body').append(divValue);
    }
</script>

</html>